#include <math.h>
#include "constant.h"

//----------------------------------------------------------------------------//
// mtof (IN = [-1500 ... 1499])
#define M2F(IN, OUT)					\
  (OUT) = 8.17579891564 * exp(0.0577622650 * (IN));

//----------------------------------------------------------------------------//
// ftom (IN > 0)
#define F2M(IN, OUT)					\
  (OUT) = 17.3123405046 * log(0.12231220585 * (IN));

//----------------------------------------------------------------------------//
// db2pow (IN = [0 ... 870])
#define DB2POW(IN, OUT)					\
  (OUT) =  exp((C_LOGTEN * 0.1) * ((IN) - 100.));

//----------------------------------------------------------------------------//
// pow2db (IN > 0)
#define POW2DB(IN, OUT)					\
  (OUT) = 100. + 10. / C_LOGTEN * log((IN));		\
  if ((OUT) < 0) (OUT) = 0;

//----------------------------------------------------------------------------//
// db2rms (IN = [0 ... 485])
#define DB2RMS(IN, OUT)				\
  (OUT) =  exp(C_LOGTEN_1_20 * ((IN) - 100.));

//----------------------------------------------------------------------------//
// rms2db (IN > 0)
#define RMS2DB(IN, OUT)					\
  (OUT) = 100. + 20. / C_LOGTEN * log((IN));		\
  if ((OUT) < 0) (OUT) = 0;
